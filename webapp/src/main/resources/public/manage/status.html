<html xmlns="http://www.w3.org/1999/html" lang="en">
<head>
  <title>WNC Supply Sites - Site Status</title>
  <script type="text/javascript" src="status.js"></script>
  <link rel="stylesheet" href="../style.css"/>
  <link rel="stylesheet" href="../mobile.css"/>
  <link rel="stylesheet" href="status.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {{> header-include }}
</head>

<body>
<h1>
  <a href="/"><img alt="site-logo" src="/logo/WSS-logo-40x40.png" class="logo-image"/></a>
  WNC Supply Sites - Site Management
</h1>

<div class="back-link">
  <a href="/manage/site-selected?siteId={{siteId}}">[&larr; Go Back]</a>
</div>

<h2>{{siteName}} - Site Status</h2>


<div id="data-entry">
  <div class="data-entry-div vertical">

    <!-- ACCEPTING SUPPLIES -->
    <div class="statusArea">
      <fieldset>
        <legend class="bold">Accepting Supplies from the Public:</legend>
        <div class="horizontal">
          <div class="statusControls">
            <input type="radio" id="acceptingYes" name="acceptingDonations" {{#siteAcceptingDonations}}checked{{/siteAcceptingDonations}}><label
              for="acceptingYes">Yes</label>
            <input type="radio" id="acceptingNo" name="acceptingDonations" {{^siteAcceptingDonations}}checked{{/siteAcceptingDonations}}><label
              for="acceptingNo">No</label>
            <button class="siteStatusUpdateButton" onclick="updateSiteAcceptingDonations({{siteId}})">Update</button>
          </div>
          <span class="statusCaption larger">A site not accepting donations is still listed.</span>
        </div>
      </fieldset>
    </div>

    <!-- DISTRIBUTING SUPPLIES -->
    <div class="statusArea">
      <fieldset>
        <legend class="bold">Distributing Supplies to the Public:</legend>
        <div class="horizontal">
          <div class="statusControls">
            <input type="radio" id="distributingYes" name="distributingDonations"
                   {{#siteDistributingDonations}}checked{{/siteDistributingDonations}}><label
              for="distributingYes">Yes</label>
            <input type="radio" id="distributingNo" name="distributingDonations"
                   {{^siteDistributingDonations}}checked{{/siteDistributingDonations}}><label
              for="distributingNo">No</label>
            <button class="siteStatusUpdateButton" onclick="updateSiteDistributingDonations({{siteId}})">Update
            </button>
          </div>
          <span class="statusCaption larger">
              Yes if supplies are being provided to the community and general public.
            </span>
        </div>
      </fieldset>
    </div>

    <!-- SITE TYPE (SUPPLY WAREHOUSE) -->
    <div class="statusArea">
      <fieldset>
        <legend class="bold">Site Type:</legend>
        <div class="horizontal">

          <div class="statusControls vertical">
            <div class="horizontal radioButtonControl">
              <input type="radio" id="distributionCenter" name="siteType" {{distributionSiteChecked}}/>
              <label for="distributionCenter">Distribution Center</label>
            </div>

            <div class="horizontal radioButtonControl">
              <input type="radio" id="supplyHub" name="siteType" {{supplyHubChecked}}/>
              <label for="supplyHub">Supply Warehouse</label>
            </div>
          </div>
          <div>
            <button class="siteStatusUpdateButton" onclick="updateSiteSiteType({{siteId}})">Update</button>
          </div>
          <span class="statusCaption larger">
              Distribution sites supply items primarily to the community.<br>
              Supply warehouses may supply the community, but primarily receive and send supplies to other distribution sites.
            </span>
        </div>
      </fieldset>
    </div>

    <!-- SITE ONBOARDED -->
    <div class="statusArea">
      <fieldset class="danger-fields">
        <legend class="bold">Site is Onboarded:</legend>
        <div class="horizontal">
          <div class="statusControls">
            <input type="radio" id="onboardedYes" name="onboarded" {{#onboarded}}checked{{/onboarded}}><label
              for="onboardedYes">Yes</label>
            <input type="radio" id="onboardedNo" name="onboarded" {{^onboarded}}checked{{/onboarded}}><label
              for="onboardedNo">No</label>
            <button class="siteStatusUpdateButton" onclick="updateOnboarded({{siteId}})">Update</button>
          </div>
          <span class="statusCaption larger">
              Indicates that {{siteName}} is actively onboarded to WSS. <br>
               <ul>
                 <li>Site is engaged with R4 & WSS</li>
                 <li>Contact information is entered and correct</li>
                 <li>Site is actively managing their supply inventory,
                   or has appointed someone within R4 to do so.</li>
               </ul>
          </span>
        </div>
      </fieldset>
    </div>

    <!-- Publicly Visible -->
    <div class="statusArea">
      <fieldset class="danger-fields">
        <legend class="bold">Publicly Visible:</legend>
        <div class="horizontal">
          <div class="statusControls">
            <input type="radio" id="publicYes" name="public" {{#sitePublic}}checked{{/sitePublic}}><label
              for="publicYes">Yes</label>
            <input type="radio" id="publicNo" name="public" {{^sitePublic}}checked{{/sitePublic}}><label
              for="publicNo">No</label>
            <button class="siteStatusUpdateButton" onclick="updatePubliclyVisible({{siteId}})">Update</button>
          </div>
          <span class="statusCaption larger">
              Impacts search result display only.<br>
              A publicly visible site is shown to everyone, a privately listed site is only visible to logged-in users.
            </span>
        </div>
      </fieldset>
    </div>

    <!-- SITE ACTIVE -->
    <div class="statusArea">
      <fieldset class="danger-fields">


        <legend class="bold">Site is Active:</legend>
        <div class="horizontal">
          <div class="statusControls">
            <input onclick="hideInactiveReason()" type="radio" id="activeYes" name="activeSite" {{#siteActive}}checked{{/siteActive}}><label
              for="activeYes">Yes</label>
            <input onclick="showInactiveReason()" type="radio" id="activeNo" name="activeSite" {{^siteActive}}checked{{/siteActive}}/><label
              for="activeNo">No</label>
            <button class="siteStatusUpdateButton" onclick="updateSiteActive({{siteId}})">Update</button>
          </div>
          <span class="statusCaption larger">An inactive site is no longer listed and is effectively removed from WNC-supply-sites.com</span>
        </div>

        <div id="inactive-div" class="{{#siteActive}}hidden{{/siteActive}}">
          <dl>
            <dt>Inactive Reason:</dt>
            <dd><textarea
                id="inactive-reason" cols="50" rows="3" placeholder="Example: Site is closed
Example: Site never onboarded
Example: Temporary closure">{{inactiveReason}}</textarea>
            </dd>
          </dl>
        </div>
      </fieldset>
    </div>
  </div>
  <div id="updateStatusConfirmation"></div>
  <div class="errorMessage" id="status-update-error"></div>
</div>

<div style="margin-top: 30px"></div>

</body>
</html>
